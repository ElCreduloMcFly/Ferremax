<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agregar Nuevo producto</title>
  <!-- Incluye jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- Incluye DataTables después de jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="{% static 'javascript/pedidos.js' %}"></script>
  <script src="{% static 'javascript/agregarprod.js' %}"></script>

</head>
<body>
    <header>
      <nav id="cssmenu">
        <div class="logo">
            <a href="index.html">
                Ferremas-Vendedor
            </a>
        </div>

        <div id="head-mobile"></div>
        <div class="button"></div>

        <ul>
            <li>
                <a href="javascript:void(0);">
                    Gestión de pedidos
                </a>

                <ul>
                    <li>
                        <a href="javascript:void(0);">
                            Aprobar o rechazar pedidos
                        </a>
                    </li>
                </ul>
            </li>

            <li>
                <a href="javascript:void(0);">
                    Coordinación de Despachos
                </a>

                <ul>
                    <li>
                        <a href="javascript:void(0);">
                            Enviar órdenes a bodegueros
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0);">
                            Organizar el despacho a clientes
                        </a>
                    </li>
                </ul>
            </li>

            <li>
                <a href="javascript:void(0);">
                    Inventario
                </a>

                <ul>
                    <li>
                        <a href="inventarioAct.html">
                            Ver inventario actual
                        </a>
                    </li>
                    <li>
                        <a href="Agregaredidos.html">
                            Agregar nuevo producto al inventario
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0);">
                            Editar producto del inventario
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
               
    
           
    
    
    </header>

  <div class="container-fluid" ng-app="lista_de_productos">
    <div class="row" ng-controller="control_principal">
      <h1 class="text-center">Agregar nuevo producto</h1>
      <div class="col-xs-12 col-sm-6">
        <form name="formulario" novalidate>
          <div class="form-group">
            <label for="nombre">Nombre:</label>
            <input autocomplete="off" required id="nombre" placeholder="Escribe el nombre del producto" type="text" class="form-control" ng-model="producto.nombre" />
          </div>
          <div class="form-group">
            <label for="precio">Precio:</label>
            <input autocomplete="off" required id="precio" placeholder="Escribe el precio del producto" type="number" class="form-control" ng-model="producto.precio" />
          </div>
          <!-- Campo de entrada para la imagen -->
<div class="form-group">
  <label for="imagen">Imagen:</label>
  <input type="file" id="imagen" class="form-control" ng-model="producto.imagen" onchange="angular.element(this).scope().$apply(function(){angular.element(this).scope().producto.imagen = event.target.files[0];})" />
</div>

          <!-- Campo de entrada para la descripción -->
          <div class="form-group">
            <label for="descripcion">Descripción:</label>
            <textarea id="descripcion" class="form-control" ng-model="producto.descripcion"></textarea>
          </div>
          <!-- Campo de entrada para la cantidad -->
          <div class="form-group">
            <label for="cantidad">Cantidad:</label>
            <input type="number" id="cantidad" class="form-control" ng-model="producto.cantidad" />
          </div>
          <!-- Campo de entrada para la categoría -->
          <div class="form-group">
            <label for="categoria">Categoría:</label>
            <select id="categoria" class="form-control" ng-model="producto.categoria">
              <option value="Herramientas manuales">Herramientas manuales</option>
              <option value="Herramientas eléctricas">Herramientas eléctricas</option>
              <option value="Ferretería para construcción">Ferretería para construcción</option>
              <option value="Seguridad y protección">Seguridad y protección</option>
              <option value="Suministros de jardinería">Suministros de jardinería</option>
            </select>
          </div>
          <!-- Botón para agregar producto -->
          <button type="button" ng-disabled="formulario.$invalid" ng-click="agregar_producto(producto)" class="btn btn-success form-control">Agregar producto</button>
        </form>
      </div>
      
      <div class="col-xs-12 col-sm-6">
        <h3 class="text-center">Productos agregados</h3>
        <div class="table-responsive">
          <table class="table table-bordered" id="tabla-productos">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Precio</th>
                <!-- Agregar columnas para las nuevas propiedades -->
                <th>Imagen</th>
                <th>Descripción</th>
                <th>Cantidad</th>
                <th>Categoría</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="producto in productos">
                <td>{{ producto.nombre }}</td>
                <td>{{ producto.precio }}</td>
                <!-- Mostrar las nuevas propiedades -->
                <td><img ng-src="{{ producto.imagen }}" alt="Imagen del producto" width="100"></td>

                <td>{{ producto.descripcion }}</td>
                <td>{{ producto.cantidad }}</td>
                <td>{{ producto.categoria }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <link rel="stylesheet" href="{% static 'css/agregar.css' %}">
  <link rel="stylesheet" href="{% static 'css/pedidos.css' %}">
</body>
</html>
